@model ProductFormModel

@{
    ViewData["Title"] = "Добави продукт";
}

<!-- Product Form -->
<div class="row justify-content-center book-a-table mb-4">
    <div class="col-md-6 col-lg-8">
        <section class="card shadow-lg p-4">
            <form method="post" enctype="multipart/form-data">

                <!-- Title Field -->
                <div class="form-group mb-4">
                    <input asp-for="Name" class="form-control" placeholder="Име на продукта" />
                    <span asp-validation-for="Name" class="text-danger"></span>
                </div>

                <!-- Description Field -->
                <div class="form-group mb-4">
                    <textarea asp-for="Description" class="form-control" rows="3" placeholder="Описание на продукта"></textarea>
                    <span asp-validation-for="Description" class="text-danger"></span>
                </div>

                <!-- Price Field -->
                <div class="form-group mb-4">
                    <input asp-for="Price" class="form-control" type="number" min="0.01" max="100000.00" placeholder="Цена" />
                    <span asp-validation-for="Price" class="text-danger"></span>
                </div>

                <!-- Count Field -->
                <div class="form-group mb-4">
                    <input asp-for="Count" class="form-control" type="number" min="1" max="1000" step="1" placeholder="Количество" />
                    <span asp-validation-for="Count" class="text-danger"></span>
                    <small class="form-text text-muted">Количество трябва да е между 1 и 1000.</small>
                </div>

                <!-- Photo Field -->
                <div class="form-group mb-4">
                    <label asp-for="PhotoFileName" class="form-label">Добави снимка:</label>
                    <input type="file" asp-for="PhotoFileName" class="form-control" />
                    <span asp-validation-for="PhotoFileName" class="text-danger"></span>
                </div>

                <!-- Category Dropdown -->
                <div class="form-group mb-4">
                    <select asp-for="CategoryId" class="form-control">
                        @foreach (var category in Model.Categories)
                        {
                            <option value="@category.Id">@category.Name</option>
                        }
                    </select>
                    <span asp-validation-for="CategoryId" class="small text-danger"></span>
                </div>

                <!-- Supplier Dropdown -->
                <div class="form-group mb-4">
                    <select asp-for="SupplierId" class="form-control">
                        @foreach (var supplier in Model.Suppliers)
                        {
                            <option value="@supplier.Id">@supplier.Name</option>
                        }
                    </select>
                    <span asp-validation-for="SupplierId" class="small text-danger"></span>
                </div>

                <!-- Hidden Field for Model ID -->
                @if (string.IsNullOrEmpty(Model.Id))
                {
                    <div class="form-group">
                        <input type="hidden" asp-for="@Model.Id" value="@Model.Id" />
                    </div>
                }

                <!-- Submit and Cancel Buttons -->
                <div class="form-group text-center">
                    <button type="submit" class="btn btn-getstarted">Запази</button>
                    <a href="@Url.Action("Dashboard", "Home")" class="btn btn-getstarted">Излез</a>
                </div>

            </form>
        </section>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
